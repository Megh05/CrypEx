{% extends 'base.html' %}

{% block title %}Profile Page{% endblock %}

{% block content %}
    <div class="container mx-auto p-4">
        <div class="max-w-md mx-auto bg-white rounded p-6 shadow-md">
            <h1 class="mb-8 tracking-wide text-3xl font-bold text-[#52525b]">My Profile</h1>
            <h2 class="text-xl font-semibold mb-2">{{ profile.username }}</h2>

            <form class="mb-4" action="" method="post" enctype="multipart/form-data">
                {% csrf_token %}

                <div class="mb-2">
                    <label for="username" class="block text-sm font-medium text-gray-600 mb-1">Username:</label>
                    <input type="text" value="{{ profile.user.username }}" id="username" name="username" class="form-input w-full rounded-md border border-gray-300 p-2">
                </div>

                <div class="mb-2">
                    <label for="firstname" class="block text-sm font-medium text-gray-600 mb-1">First Name:</label>
                    <input type="text" value="{{ profile.user.first_name }}" id="firstname" name="firstname" class="form-input w-full rounded-md border border-gray-300 p-2">
                </div>

                <div class="mb-2">
                    <label for="lastname" class="block text-sm font-medium text-gray-600 mb-1">Last Name:</label>
                    <input type="text" value="{{ profile.user.last_name }}" id="lastname" name="lastname" class="form-input w-full rounded-md border border-gray-300 p-2">
                </div>

                <div class="mb-2">
                    <label for="id_image" class="block text-sm font-medium text-gray-600 mb-1">Upload ID Image:</label>
                    <input type="file" value="{{ id.identity }}" id="id_image" name="id_image" accept="image/*" class="form-input w-full rounded-md border border-gray-300 p-2">

                    {% if id.identity %}
                        <p class="text-green-600 mt-2">ID verified successfully. You can proceed to buying and selling of Cryptocurrency.</p>
                    {% else %}
                        <p class="text-red-600 font-bold mt-2">Please upload ID for verification to start trading.</p>
                    {% endif %}
                </div>

                <div class="mb-2">
                    <label class="block text-sm font-medium text-gray-600 mb-1">Holdings:</label>
                    <ul class="list-group">
                        {% for key, value in profile.holdings.items %}
                            <li class="list-group-item"><strong>{{ key }}:</strong> {{ value }}</li>
                        {% endfor %}
                    </ul>
                </div>

                <button class="text-[#ffffff] hover:text-[#ffff] bg-blue-500 hover:bg-blue-700 w-full py-1 mt-6" type="submit">Save</button>
            </form>
        </div>
    </div>
{% endblock %}
